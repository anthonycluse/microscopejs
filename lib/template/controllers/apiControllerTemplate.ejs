var <%= model.name %>ApiController = module.exports = function(app) {

    // properties ==================================

    var <%= model.name %>Service = require('../services/<%= model.name %>Service')();
    var db = require('../models/dbContext');

    // ==============================================

    // actions =====================================

    // index
    app.get('/api/<%= model.name %>', function(req, res) {
        <%= model.name %>Service.getAll(function(<%= model.name %>s) {
            res.send(<%= model.name %>s);
        })
    });

    // details
    app.get('/api/<%= model.name %>/:id', function(req, res) {
        var <%= model.name %>Id = req.params.id;
        <%= model.name %>Service.get(<%= model.name %>Id, function(<%= model.name %>) {
            res.send(<%= model.name %>);
        });
    });

    // create
    app.post('/api/<%= model.name %>/', function(req, res) {
        <%= model.name %>Service.save(req.body, function(data) {
            res.send(data);
        });
    });

    // update
    app.put('/api/<%= model.name %>/:id', function(req, res) {
        var <%= model.name %> = req.body;
        <%= model.name %>Service.update(<%= model.name %>, function(<%= model.name %>) {
            res.send(<%= model.name %>);
        });
    });

    // delete
    app.delete('/api/<%= model.name %>/:id', function(req, res) {
        <%= model.name %>Service.destroy(req.params.id, function() {
            res.send({mesage: '<%= model.name %> delete'});
        });
    });

    // ==============================================
}
